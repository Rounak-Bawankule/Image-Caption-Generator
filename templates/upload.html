
{% extends "homepage.html" %}

{% block content %}
<section class="text-gray-600 body-font">
    <div class="container mx-auto flex px-5 py-24 md:flex-row flex-col items-center">
      <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6 mb-10 md:mb-0">
 
        {% if  path%}
        <img class="object-cover object-center rounded" alt="hero" src="{{path}}">

        {% else %}
        <img class="object-cover object-center rounded" alt="hero" src="https://dummyimage.com/720x600">

        {% endif %}
      </div>
      <div class="lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center">
        <h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900">Generate a caption for your image!
        </h1>
        <p class="mb-3 leading-relaxed">100% automatic and free.</p>
        <div class="flex justify-center">
            <form action="/" method="POST" enctype="multipart/form-data">
            <label for="image" class="fa fa-upload mx-auto mt-16 text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"> Upload Image</label>
            
            <input type="file" name="image" id="image" hidden>

            <a href="/generate"><input type="submit" class=" mx-auto mt-16 text-white bg-indigo-500 border-0 py-2 px-8 focus:outline-none hover:bg-indigo-600 rounded text-lg"></a>

            </form> 
        </div >
        {% if caption %}
            
        <div class="bg-gray-200 p-3 flex mt-10" style="border-radius: 7px;">
            <p id="cap" onclick="copyElementText(this.id)">{{caption}}  </p> 
        <button class="btn btn-outline-dark fa fa-volume-up p-2 ml-5" style="border-radius: 50%;" id="speak"  onclick="playAudio()"> </button>
        <audio id="audio_player">
            <source src="/static/sounds/sound.mp3"  type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
          {% endif %}
          
        </div>
        {% if caption %}

        <p class="text-gray-500"><small>Click on the caption to copy it to clipboard!</small></p>
        {% endif %}

      </div>
    </div>
  </section>


  
<!-- how to Use -->

  <h1 class="font-semibold title-font text-gray-900 text-xl" style="margin-top:50px;font-size:2.5rem ;" id="howtouse">
    <center>How to Use</center>
</h1>
<section class="text-gray-600 body-font"  >

    <div class="container px-5 py-5 mx-auto flex flex-wrap">
        <div class="flex relative pt-10 pb-20 sm:items-center md:w-2/3 mx-auto">
            <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
            </div>
            <div
                class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm">
                1</div>
            <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                <div
                    class="flex-shrink-0 w-24 h-24 bg-indigo-100 text-indigo-500 rounded-full inline-flex items-center justify-center">
                    <i class="fa fa-upload" style="font-size:35px;"></i>
                </div>
                <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                    <h2 class="font-medium title-font text-gray-900 mb-1 text-xl">Upload the Image</h2>

                </div>
            </div>
        </div>
        <div class="flex relative pb-20 sm:items-center md:w-2/3 mx-auto">
            <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
            </div>
            <div
                class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm">
                2</div>
            <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                <div
                    class="flex-shrink-0 w-24 h-24 bg-indigo-100 text-indigo-500 rounded-full inline-flex items-center justify-center">
                
                    <i class="fa fa-hand-point-up" style="font-size:40px;"></i>
                </div>
                <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                    <h2 class="font-medium title-font text-gray-900 mb-1 text-xl">Click the 'Upload Image' button
                    </h2>

                </div>
            </div>
        </div>
        <div class="flex relative pb-20 sm:items-center md:w-2/3 mx-auto">
            <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
            </div>
            <div
                class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm">
                3</div>
            <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                <div
                    class="flex-shrink-0 w-24 h-24 bg-indigo-100 text-indigo-500 rounded-full inline-flex items-center justify-center">
                
                    <i class="fa fa-cookie-bite" style="font-size:40px;"></i>
                </div>
                <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                    <h2 class="font-medium title-font text-gray-900 mb-1 text-xl">Grab the cookies and relax till
                        we provide you with caption for your image</h2>

                </div>
            </div>
        </div>
        <div class="flex relative pb-10 sm:items-center md:w-2/3 mx-auto">
            <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
            </div>
            <div
                class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm">
                4</div>
            <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                <div
                    class="flex-shrink-0 w-24 h-24 bg-indigo-100 text-indigo-500 rounded-full inline-flex items-center justify-center">
                  
                    <i class="fa fa-glass-cheers" style="font-size:40px;"></i>

                </div>
                <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                    <h2 class="font-medium title-font text-gray-900 mb-1 text-xl">Here you go! <br> Copy your
                        caption and enjoy!
                    </h2>

                </div>
            </div>
        </div>
    </div>
</section>
<script>
var x = document.getElementById("audio_player"); 
function playAudio() { 
  x.play(); 
} 
function copyElementText(id) {
    var text = document.getElementById(id).innerText;
    var elem = document.createElement("textarea");
    document.body.appendChild(elem);
    elem.value = text;
    elem.select();
    document.execCommand("copy");
    document.body.removeChild(elem);
}
    </script>

  {% endblock %}