<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">

</head>

<body>
    
    <image src="{{ url_for('static', filename='logo.png') }}" alt="ImagePad" width=100px height=100px class="logo"></image>
    <header id="header">

        <ul>
            <li><a href="">Home</a></li>
            <li><a href="#HTU">How To Use</a></li>
            <li><a href="/contact">About</a></li>
            <li><a href="#">Source code</a></li>
        </ul>
    </header>
    <section>
        <h2 id="text"><span>AI Image Caption Generator</span><br>ImagePad</h2>
        <img src="{{ url_for('static', filename='bird1.png') }}" id="bird1">
        <img src="{{ url_for('static', filename='bird2.png') }}" id="bird2">
        <img src="{{ url_for('static', filename='forest.png') }}" id="forest">
        <a href="#Home" id="btn">Explore</a>
        <img src="{{ url_for('static', filename='rocks.png') }}" id="rocks">
        <img src="{{ url_for('static', filename='water.png') }}" id="water">
    </section>

    <div class="sec" id="Home" style="display:flex;">
        {% if path  %}
        <div class="lg:max-w-sm lg:w-full md:w-1/2 w-3md:mb-0">
            <img class=" object-center rounded" alt="hero" src="{{path}}" >
        </div> 
        {% else %}
        <div class="lg:max-w-sm lg:w-full md:w-1/2 w-3md:mb-0">
            <img class=" object-center rounded" alt="hero" src="https://dummyimage.com/400x400">
        </div>
        {% endif %}

        <section class="text-white body-font" style="height:400px; " id="generate">
            <div class="container mx-auto flex px-5 py-24 md:flex-row flex-col items-center">

                <div
                    class="lg:flex-grow md:w-1/2 lg:pl-24 md:pl-16 flex flex-col md:items-start md:text-left items-center text-center">
                    <h1 class="title-font sm:text-4xl text-3xl mb-2 font-medium text-white">Generate a caption for
                        your image!
                    </h1>
                    <p class="mb-8 leading-relaxed">100% automatic and free.</p>
                    <div class="flex justify-center">
             
                        <form action="/" method="post" enctype="multipart/form-data" id="upload_form">
                           <label for="image"
                                class=" inline-flex text-white  border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg" style=" background-color: #003641; border: 2px solid whitesmoke; cursor: pointer;"><i class="fa fa-upload"
                                style="font-size:24px;  padding-right: 20px; padding-top:1px"></i> Upload
                                Image</label>
                            <input type="file" name="image" id="image" hidden>

                            <input type="submit" hidden>
                        </form>
                    </div>
                    {% if caption %}
                          <!-- code for generated caption -->
                 
                          <div class="bg-blue-200 p-3 flex mt-10" style="border-radius: 7px; color: #094b65; z-index: 9999; align-items: center;">
                            <p id="cap" onclick="copyElementText(this.id)">{{caption}}</p> 
                        <button class="btn btn-outline-dark fa fa-volume-up p-2 ml-5" style="border-radius: 50%;" id="speak"  onclick="playAudio()"> </button>
                        <audio id="audio_player">
                            <source src="/static/sounds/sound.mp3"  type="audio/mpeg">
                            Your browser does not support the audio element.
                          </audio>
                          
                        </div>
                
                        <p class="text-white-300"><small>Click on the caption to copy it to clipboard!</small></p>     
                    <!-- code for generated caption ends -->
                    {% endif %}
                  
                </div>


                </div>
            
         
        </section>

    </div>








    <div class="sec">




        <h2 style="font-weight: 700; font-size: 2.75rem;" id="HTU">How To Use</h2>
        <div class="container px-5 py-10 mx-auto flex flex-wrap">
            <div class="flex relative pt-10 pb-20 sm:items-center md:w-2/3 mx-auto">
                <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                    <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
                </div>
                <div class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500  relative z-10 title-font font-medium text-sm"
                    style=" color: #094b65; background:#e5e7eb;">
                    1</div>
                <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                    <div class="flex-shrink-0 w-24 h-24 bg-indigo-100 rounded-full inline-flex items-center justify-center"
                        style=" color: #094b65;">
                        <i class="fa fa-upload" style="font-size:35px;"></i>
                    </div>
                    <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                        <h2 class="font-small text-gray-900 mb-1 text-sm">Upload the Image</h2>

                    </div>
                </div>
            </div>
            <div class="flex relative pb-20 sm:items-center md:w-2/3 mx-auto">
                <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                    <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
                </div>
                <div class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm"
                    style=" color: #094b65; background:#e5e7eb;">
                    2</div>
                <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                    <div class="flex-shrink-0 w-24 h-24 bg-indigo-100 rounded-full inline-flex items-center justify-center"
                        style=" color: #094b65;">
                        <i class="fa fa-hand-point-up" style="font-size:40px;"></i>
                    </div>
                    <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                        <h2 class="font-medium title-font text-gray-900 mb-1 text-xl" style="line-height: 1.0;">Click
                            the 'Upload Image' button
                        </h2>

                    </div>
                </div>
            </div>
            <div class="flex relative pb-20 sm:items-center md:w-2/3 mx-auto">
                <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                    <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
                </div>
                <div class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm"
                    style=" color: #094b65; background:#e5e7eb;">
                    3</div>
                <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                    <div class="flex-shrink-0 w-24 h-24 bg-indigo-100 rounded-full inline-flex items-center justify-center"
                        style=" color: #094b65;">
                        <i class="fa fa-cookie-bite" style="font-size:40px;"></i>
                    </div>
                    <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                        <h2 class="font-medium title-font text-gray-900 mb-1 text-xl" style="line-height: 1.0;">Grab the
                            cookies and relax till
                            we provide you with caption for your image</h2>

                    </div>
                </div>
            </div>
            <div class="flex relative pb-10 sm:items-center md:w-2/3 mx-auto">
                <div class="h-full w-6 absolute inset-0 flex items-center justify-center">
                    <div class="h-full w-1 bg-gray-200 pointer-events-none"></div>
                </div>
                <div class="flex-shrink-0 w-6 h-6 rounded-full mt-10 sm:mt-0 inline-flex items-center justify-center bg-indigo-500 text-white relative z-10 title-font font-medium text-sm"
                    style=" color: #094b65; background:#e5e7eb;">
                    4</div>
                <div class="flex-grow md:pl-8 pl-6 flex sm:items-center items-start flex-col sm:flex-row">
                    <div class="flex-shrink-0 w-24 h-24 bg-indigo-100  rounded-full inline-flex items-center justify-center"
                        style=" color: #094b65;">

                        <i class="fa fa-glass-cheers" style="font-size:40px;"></i>

                    </div>
                    <div class="flex-grow sm:pl-6 mt-6 sm:mt-0">
                        <h2 class="font-medium title-font text-gray-900 mb-1 text-xl" style="line-height: 1.0;">Here you
                            go! <br> Copy your
                            caption and enjoy!
                        </h2>

                    </div>
                </div>
            </div>
        </div>
    </div>



    <script type="text/javascript">
        let text = document.getElementById('text');
        let bird1 = document.getElementById('bird1');
        let bird2 = document.getElementById('bird2');
        let btn = document.getElementById('btn');
        let rocks = document.getElementById('rocks');
        let forest = document.getElementById('forest');
        let water = document.getElementById('water');
        let header = document.getElementById('header');

        window.addEventListener('scroll', function () {
            let value = window.scrollY;

            text.style.top = 50 + value * -0.1 + '%';
            bird1.style.top = value * -1.5 + 'px';
            bird1.style.left = value * 1.5 + 'px';
            bird2.style.top = value * -1.5 + 'px';
            bird2.style.left = value * -1.5 + 'px';
            btn.style.marginTop = value * 1.5 + 'px';
            rocks.style.top = value * -0.12 + 'px';
            forest.style.top = value * 0.25 + 'px';
            header.style.top = value * 0.5 + 'px';
        })
        
  document.getElementById("upload_form").onchange = function() {
      // submitting the form
      document.getElementById("upload_form").submit();
  };
  var x = document.getElementById("audio_player"); 
function playAudio() { 
  x.play(); 
} 
function copyElementText(id) {
    var text = document.getElementById(id).innerText;
    var elem = document.createElement("textarea");
    document.body.appendChild(elem);
    elem.value = text;
    elem.select();
    document.execCommand("copy");
    document.body.removeChild(elem);
}


    </script>


</body>

</html>